import{r as o,j as e}from"./vendor-query-CmnYLxAr.js";import{c as y,n as Y,a4 as G,ab as O,ac as L,J as D,P as f,ad as j,M as S,a8 as c,ae as $,g as r,E as J,a as l,a1 as i,L as W,R as v,e as X,f as Z,W as q,Y as K,Z as Q,_ as U,af as ee,X as te,b as se,B as ae}from"./index-9zVoDnz5.js";import{C as re}from"./chevron-down-CWmnhnrU.js";import{C as le}from"./clipboard-list-XQyIFUZq.js";import"./vendor-react-qkC6yhPU.js";import"./vendor-pdf-IriBjpIe.js";import"./vendor-charts-Cp29jYec.js";import"./vendor-ui-Q3AHpcc6.js";const de=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],oe=y("camera",de);const ne=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ie=y("chevron-left",ne);const ce=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],xe=y("ellipsis",ce),k={vitals:{icon:c,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-950/30"},health:{icon:c,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-950/30"},sleep:{icon:S,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-950/30"},symptoms:{icon:j,color:"text-red-500",bg:"bg-red-50 dark:bg-red-950/30"},medications:{icon:f,color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-950/30"},meds:{icon:f,color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-950/30"},water:{icon:D,color:"text-sky-500",bg:"bg-sky-50 dark:bg-sky-950/30"},exercise:{icon:L,color:"text-purple-500",bg:"bg-purple-50 dark:bg-purple-950/30"}},C=[{id:7,label:"7 วัน",shortLabel:"7 วัน"},{id:14,label:"14 วัน",shortLabel:"14 วัน"},{id:30,label:"30 วัน",shortLabel:"30 วัน"},{id:90,label:"3 เดือน",shortLabel:"3 เดือน"}];function ye(){const[,E]=Y(),[s,n]=o.useState("all"),[x,H]=o.useState(7),[m,N]=o.useState(!1),[a,b]=o.useState(null),[z,p]=o.useState(!1),{patientId:_,isLoading:I}=G(),{data:P,isLoading:A}=O(_,x),T=[{id:1,type:"symptoms",title:"อาการ",detail:"ปวดหัว (ระดับ 3)",time:"10:30 น.",date:"วันนี้",icon:j,color:"text-red-500",bg:"bg-red-50 dark:bg-red-950/30"},{id:2,type:"health",title:"ความดัน",detail:"128/82 mmHg",time:"08:15 น.",date:"วันนี้",icon:c,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-950/30"},{id:3,type:"meds",title:"ยาเช้า",detail:"ทานครบตามรายการ",time:"08:00 น.",date:"วันนี้",icon:f,color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-950/30"},{id:4,type:"sleep",title:"การนอน",detail:"6.5 ชม. (หลับดี)",time:"07:00 น.",date:"วันนี้",icon:S,color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-950/30"},{id:5,type:"water",title:"น้ำ",detail:"8 แก้ว",time:"18:00 น.",date:"เมื่อวาน",icon:D,color:"text-sky-500",bg:"bg-sky-50 dark:bg-sky-950/30"},{id:6,type:"exercise",title:"ออกกำลังกาย",detail:"เดินเร็ว 20 นาที",time:"17:45 น.",date:"เมื่อวาน",icon:L,color:"text-purple-500",bg:"bg-purple-50 dark:bg-purple-950/30"},{id:7,type:"mood",title:"อารมณ์",detail:"สดชื่น แจ่มใส",time:"09:00 น.",date:"เมื่อวาน",icon:$,color:"text-yellow-500",bg:"bg-yellow-50 dark:bg-yellow-950/30"},{id:8,type:"other",title:"บันทึกทั่วไป",detail:"นัดหมอฟันเลื่อนเป็นอาทิตย์หน้า",time:"14:20 น.",date:"15 ม.ค.",icon:xe,color:"text-gray-500",bg:"bg-gray-50 dark:bg-gray-950/30"},{id:9,type:"health",title:"ความดัน",detail:"135/88 mmHg (สูงนิดหน่อย)",time:"18:30 น.",date:"15 ม.ค.",icon:c,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-950/30"},{id:10,type:"symptoms",title:"อาการ",detail:"เวียนหัว บ้านหมุน",time:"15:00 น.",date:"14 ม.ค.",icon:j,color:"text-red-500",bg:"bg-red-50 dark:bg-red-950/30"}],F=(P||[]).map((t,B)=>{const u=k[t.type]||k.health,V={vitals:"health",medications:"meds"};return{id:B+1,type:V[t.type]||t.type,title:t.title,detail:t.detail,time:t.time,date:t.date,icon:u.icon,color:u.color,bg:u.bg}}),d=s==="example",h=I||A,w=d?T:F,g=s==="all"||s==="example"?w:w.filter(t=>t.type===s),R=()=>{p(!0),setTimeout(()=>{p(!1),b(null)},1500)},M=()=>{b(null),p(!1)};return e.jsxs("div",{className:"min-h-screen bg-background pb-32 font-sans relative z-10",children:[e.jsxs("header",{className:"bg-card pt-12 pb-4 px-6 sticky top-0 z-20 border-b border-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{variant:"ghost",size:"icon",className:"rounded-full -ml-2",onClick:()=>E("/records"),children:e.jsx(ie,{className:"w-6 h-6 text-foreground"})}),e.jsx("h1",{className:"text-xl font-bold text-foreground",children:"ประวัติการบันทึก"})]}),e.jsxs(r,{variant:"outline",size:"sm",className:"rounded-full gap-1.5 px-3 h-9",onClick:()=>N(!m),children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:C.find(t=>t.id===x)?.shortLabel}),e.jsx(re,{className:l("w-3 h-3 transition-transform",m&&"rotate-180")})]})]}),m&&e.jsx("div",{className:"mt-3 flex gap-2 animate-in slide-in-from-top-2 duration-200",children:C.map(t=>e.jsx("button",{onClick:()=>{H(t.id),N(!1)},className:l("flex-1 py-2 px-3 rounded-xl text-xs font-bold transition-all border",x===t.id?"bg-primary text-primary-foreground border-primary shadow-md shadow-primary/20":"bg-card text-muted-foreground border-border hover:border-primary/50"),children:t.label},t.id))})]}),e.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[e.jsx("button",{onClick:()=>n("all"),className:l("px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border",s==="all"?"bg-foreground text-background border-foreground":"bg-card text-muted-foreground border-border"),children:"ทั้งหมด"}),[{id:"symptoms",label:"อาการ"},{id:"health",label:"ความดัน"},{id:"meds",label:"ยา"},{id:"water",label:"น้ำ"},{id:"sleep",label:"การนอน"}].map(t=>e.jsx("button",{onClick:()=>n(t.id),className:l("px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border",s===t.id?"bg-primary text-primary-foreground border-primary shadow-md shadow-primary/20":"bg-card text-muted-foreground border-border"),children:t.label},t.id)),e.jsxs("button",{onClick:()=>n("example"),className:l("px-4 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border flex items-center gap-1",s==="example"?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-500/20":"bg-card text-muted-foreground border-border"),children:[e.jsx(i,{className:"w-3 h-3"}),"ตัวอย่าง"]})]}),h&&!d&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-3",children:[e.jsx(W,{className:"w-8 h-8 animate-spin text-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"กำลังโหลด..."})]}),(!h||d)&&e.jsx("div",{className:"space-y-2",children:g.map(t=>e.jsx("div",{className:"flex items-center justify-between bg-muted/50 rounded-xl p-3 cursor-pointer active:scale-[0.99] transition-transform",onClick:()=>b(t),children:e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:l("w-10 h-10 rounded-xl flex items-center justify-center shrink-0",t.bg),children:e.jsx(t.icon,{className:l("w-5 h-5",t.color)})}),e.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3 text-muted-foreground shrink-0"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.time}),e.jsx("span",{className:"text-[10px] font-medium text-muted-foreground bg-muted/50 px-2 py-0.5 rounded-full whitespace-nowrap",children:t.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t.title}),e.jsx("span",{className:"text-sm font-bold text-foreground truncate",children:t.detail})]})]})]})},t.id))}),g.length===0&&!h&&e.jsx(X,{className:"border-none shadow-sm",children:e.jsx(Z,{className:"py-12 flex flex-col items-center text-center space-y-4",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-950/30 rounded-full flex items-center justify-center",children:e.jsx(i,{className:"w-8 h-8 text-amber-500"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-bold text-foreground",children:"ข้อมูลตัวอย่าง"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-[250px]",children:"นี่คือตัวอย่างข้อมูลที่จะแสดงเมื่อมีการบันทึกจริง"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(le,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-bold text-foreground",children:"ยังไม่มีข้อมูล"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-[250px]",children:s==="all"?"เริ่มบันทึกสุขภาพประจำวันโดยพิมพ์คุยกับน้องอุ่นใน LINE Chat":"ยังไม่มีประวัติการบันทึกในหมวดนี้"})]}),e.jsxs(r,{variant:"outline",className:"mt-2",onClick:()=>n("example"),children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),"ดูตัวอย่างข้อมูล"]})]})})}),d&&g.length>0&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-xl p-3 flex items-center gap-3",children:[e.jsx(i,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 shrink-0"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"นี่คือข้อมูลตัวอย่าง ไม่ใช่ข้อมูลจริงจากการบันทึกของคุณ"})]})]}),e.jsx(q,{open:a!==null,onOpenChange:t=>!t&&M(),children:e.jsxs(K,{className:"max-h-[90vh]",children:[e.jsxs(Q,{className:"flex items-center justify-between px-6",children:[e.jsxs(U,{className:"text-xl font-bold",children:["แก้ไข: ",a?.title]}),e.jsx(ee,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",children:e.jsx(te,{className:"w-5 h-5"})})})]}),e.jsx("div",{className:"px-6 pb-8 overflow-y-auto max-h-[calc(90vh-80px)]",children:z?e.jsxs("div",{className:"py-12 flex flex-col items-center text-center space-y-6 animate-in zoom-in-95 duration-300",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-950/30 text-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(se,{className:"w-10 h-10 stroke-[3px]"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"แก้ไขเรียบร้อย!"}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed px-8",children:"ข้อมูลของคุณถูกอัปเดตแล้ว"})]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-muted/30 p-4 rounded-3xl",children:[e.jsx(v,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold",children:"เวลาที่บันทึก"}),e.jsx(r,{variant:"ghost",className:"text-foreground font-bold text-sm bg-card shadow-sm rounded-xl px-4 h-9",children:a?.time})]})]}),a?.type==="symptoms"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest pl-1",children:"อาการ"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{className:"px-5 py-2.5 rounded-2xl bg-red-50 dark:bg-red-950/30 border-2 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 text-sm font-bold transition-all",children:"ปวดหัว"}),e.jsx("button",{className:"px-5 py-2.5 rounded-2xl bg-card border-2 border-border hover:border-red-400 hover:bg-red-50 dark:hover:bg-red-950/30 text-sm font-bold transition-all",children:"เวียนหัว"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-end pl-1",children:[e.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:"ระดับความรุนแรง"}),e.jsx("span",{className:"text-lg font-bold text-red-500",children:"ระดับ 3"})]}),e.jsx("input",{type:"range",min:"1",max:"5",defaultValue:"3",className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-red-500"})]})]}),a?.type==="health"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 py-4",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:"SYS"}),e.jsx("div",{className:"bg-card border-2 border-border rounded-[32px] w-24 h-24 flex items-center justify-center text-4xl font-bold shadow-sm text-foreground",children:"128"})]}),e.jsx("span",{className:"text-2xl text-muted-foreground pt-6",children:"/"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:"DIA"}),e.jsx("div",{className:"bg-card border-2 border-border rounded-[32px] w-24 h-24 flex items-center justify-center text-4xl font-bold shadow-sm text-foreground",children:"82"})]})]})}),a&&!["symptoms","health"].includes(a.type)&&e.jsx("div",{className:"p-4 bg-muted/20 rounded-2xl text-center text-muted-foreground text-sm",children:"แบบฟอร์มแก้ไขสำหรับประเภทนี้ยังไม่พร้อมใช้งาน"}),e.jsx("div",{className:"space-y-4 pt-4",children:e.jsxs("div",{className:"bg-muted/20 rounded-3xl p-4 flex gap-4",children:[e.jsx(oe,{className:"w-5 h-5 text-muted-foreground mt-1"}),e.jsx("textarea",{className:"flex-1 bg-transparent border-none resize-none text-sm focus:outline-none min-h-[60px] text-foreground",placeholder:"เพิ่มโน้ตสั้นๆ หรือแนบรูปภาพ...",defaultValue:a?.detail})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(r,{variant:"ghost",className:"flex-1 h-14 rounded-2xl font-bold text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30",children:"ลบรายการ"}),e.jsx(r,{className:"flex-[2] h-14 rounded-2xl bg-primary text-primary-foreground font-bold text-lg shadow-xl shadow-primary/20",onClick:R,children:"บันทึกการแก้ไข"})]})]})})]})}),e.jsx(ae,{})]})}export{ye as default};
