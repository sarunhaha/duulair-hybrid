import{u as o,b as a,c as s}from"./vendor-query-CmnYLxAr.js";import{k as r}from"./index-OMaGeRoJ.js";const i={all:["profile"],patient:e=>[...i.all,"patient",e],caregiver:e=>[...i.all,"caregiver",e],caregivers:e=>[...i.all,"caregivers",e],patients:e=>[...i.all,"patients",e],linkCode:e=>[...i.all,"linkCode",e],medications:e=>[...i.all,"medications",e],reminders:e=>[...i.all,"reminders",e]};function _(e){return o({queryKey:e?i.patient(e):["profile","patient","none"],queryFn:async()=>{if(!e)return null;try{return(await r.get(`/patient/${e}`)).profile}catch{return console.warn("Patient profile API not available"),d(e)}},enabled:!!e,staleTime:60*1e3})}function g(){const e=a();return s({mutationFn:async({patientId:n,data:t})=>r.put(`/patient/${n}`,t),onSuccess:(n,{patientId:t})=>{e.invalidateQueries({queryKey:i.patient(t)})}})}function p(e){return o({queryKey:e?i.linkCode(e):["profile","linkCode","none"],queryFn:async()=>{if(!e)return null;try{return await r.post("/link-code/generate",{patient_id:e})}catch{return console.warn("Link code API not available"),{code:"ABC123",patient_id:e,expires_at:new Date(Date.now()+864e5).toISOString(),used:!1}}},enabled:!!e,staleTime:300*1e3})}function q(e){return o({queryKey:e?i.caregivers(e):["profile","caregivers","none"],queryFn:async()=>{if(!e)return[];try{return(await r.get(`/patient/${e}/caregivers`)).caregivers||[]}catch{return console.warn("Caregivers API not available"),[]}},enabled:!!e,staleTime:60*1e3})}function h(e){return o({queryKey:e?i.medications(e):["profile","medications","none"],queryFn:async()=>{if(!e)return[];try{const n=await r.get(`/medications/${e}`);return console.log("[usePatientMedicationsAll] API response:",n),n.medications||[]}catch(n){return console.warn("[usePatientMedicationsAll] API error:",n),[]}},enabled:!!e,staleTime:60*1e3})}function v(){const e=a();return s({mutationFn:async n=>(console.log("[useAddMedication] Adding medication:",n),r.post(`/medications/${n.patient_id}`,n)),onSuccess:(n,t)=>{e.invalidateQueries({queryKey:i.medications(t.patient_id)})}})}function P(){const e=a();return s({mutationFn:async({id:n,data:t})=>r.put(`/medications/${n}`,t),onSuccess:(n,{data:t})=>{t.patient_id&&e.invalidateQueries({queryKey:i.medications(t.patient_id)})}})}function w(){const e=a();return s({mutationFn:async({id:n})=>r.delete(`/medications/${n}`),onSuccess:(n,{patientId:t})=>{e.invalidateQueries({queryKey:i.medications(t)})}})}function C(e){return o({queryKey:e?i.reminders(e):["profile","reminders","none"],queryFn:async()=>{if(!e)return[];try{return(await r.get(`/patient/${e}/reminders`)).reminders||[]}catch{return console.warn("Reminders API not available"),m(e)}},enabled:!!e,staleTime:60*1e3})}function M(){const e=a();return s({mutationFn:async n=>r.post("/reminders",n),onSuccess:(n,t)=>{e.invalidateQueries({queryKey:i.reminders(t.patient_id)})}})}function A(){const e=a();return s({mutationFn:async({id:n,data:t})=>r.put(`/reminders/${n}`,t),onSuccess:(n,{data:t})=>{t.patient_id&&e.invalidateQueries({queryKey:i.reminders(t.patient_id)})}})}function F(){const e=a();return s({mutationFn:async({id:n})=>r.delete(`/reminders/${n}`),onSuccess:(n,{patientId:t})=>{e.invalidateQueries({queryKey:i.reminders(t)})}})}function b(e){if(!e)return null;const n=new Date,t=new Date(e);let c=n.getFullYear()-t.getFullYear();const u=n.getMonth()-t.getMonth();return(u<0||u===0&&n.getDate()<t.getDate())&&c--,c}function k(e){if(!e)return"-";const n=["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],t=new Date(e),c=t.getDate(),u=n[t.getMonth()],l=t.getFullYear()+543;return`${c} ${u} ${l}`}function K(e){return e?{male:"ชาย",female:"หญิง",other:"อื่นๆ"}[e]||e:"-"}function d(e){return{id:e,user_id:"mock-user-id",first_name:"สมชาย",last_name:"ใจดี",nickname:"ชาย",birth_date:"1955-05-15",gender:"male",phone_number:"081-234-5678",address:"123/45 ถ.สุขุมวิท แขวงคลองเตย เขตคลองเตย กรุงเทพฯ 10110",weight_kg:65,height_cm:168,blood_type:"O",chronic_diseases:["ความดันโลหิตสูง","เบาหวาน"],drug_allergies:["Penicillin"],food_allergies:["อาหารทะเล"],medical_condition:"ความดันสูง ควบคุมด้วยยา",medical_notes:"ต้องวัดความดันทุกเช้า",hospital_name:"โรงพยาบาลบำรุงราษฎร์",hospital_phone:"02-667-1000",emergency_contact_name:"สมหญิง ใจดี",emergency_contact_relation:"ลูกสาว",emergency_contact_phone:"089-876-5432",created_at:"2024-01-15T00:00:00Z"}}function m(e){return[{id:"rem-1",patient_id:e,type:"medication",title:"กินยาเช้า",time:"08:00",custom_time:"08:00",frequency:"daily",is_active:!0,created_at:"2024-01-15T00:00:00Z"},{id:"rem-2",patient_id:e,type:"vitals",title:"วัดความดัน",time:"07:00",custom_time:"07:00",frequency:"daily",is_active:!0,created_at:"2024-01-15T00:00:00Z"},{id:"rem-3",patient_id:e,type:"water",title:"ดื่มน้ำ",time:"10:00",custom_time:"10:00",frequency:"daily",is_active:!0,created_at:"2024-01-15T00:00:00Z"}]}export{p as a,q as b,b as c,K as d,g as e,k as f,h as g,v as h,P as i,w as j,C as k,M as l,A as m,F as n,_ as u};
