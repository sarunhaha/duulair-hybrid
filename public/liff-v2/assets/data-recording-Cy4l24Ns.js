import{j as e}from"./vendor-query-OvJu5Khy.js";import{S as k}from"./switch-xcfwhQ2W.js";import{G as u,a1 as h,m as f,ag as y,W as j,g as N,_ as w,L as _,ah as v,p as d,P,M as C,n as E,o as L,ai as D,aj as I,q as S,a as i}from"./index-tEBa2Yi-.js";import{I as R}from"./info-Dho8wN3_.js";import"./vendor-react-qkC6yhPU.js";import"./vendor-ui-CYcp45lG.js";const c=[{key:"vitals_enabled",label:"ความดัน/ชีพจร",icon:v,color:"bg-blue-50 text-blue-600 dark:bg-blue-950/30 dark:text-blue-400"},{key:"glucose_enabled",label:"ระดับน้ำตาล",icon:d,color:"bg-pink-50 text-pink-600 dark:bg-pink-950/30 dark:text-pink-400"},{key:"medications_enabled",label:"ยา",icon:P,color:"bg-orange-50 text-orange-600 dark:bg-orange-950/30 dark:text-orange-400"},{key:"sleep_enabled",label:"การนอน",icon:C,color:"bg-indigo-50 text-indigo-600 dark:bg-indigo-950/30 dark:text-indigo-400"},{key:"water_enabled",label:"การดื่มน้ำ",icon:d,color:"bg-sky-50 text-sky-600 dark:bg-sky-950/30 dark:text-sky-400"},{key:"exercise_enabled",label:"กิจกรรม/ออกกำลัง",icon:E,color:"bg-purple-50 text-purple-600 dark:bg-purple-950/30 dark:text-purple-400"},{key:"mood_enabled",label:"ความเครียด",icon:L,color:"bg-yellow-50 text-yellow-600 dark:bg-yellow-950/30 dark:text-yellow-400"},{key:"symptoms_enabled",label:"อาการ",icon:D,color:"bg-red-50 text-red-600 dark:bg-red-950/30 dark:text-red-400"},{key:"notes_enabled",label:"โน้ต/รูปเอกสาร",icon:I,color:"bg-slate-50 text-slate-600 dark:bg-slate-950/30 dark:text-slate-400"},{key:"lab_results_enabled",label:"ผลตรวจเลือด",icon:S,color:"bg-teal-50 text-teal-600 dark:bg-teal-950/30 dark:text-teal-400"}],M=["medications_enabled","water_enabled","vitals_enabled","exercise_enabled","glucose_enabled"];function B(){const[,b]=u(),{patientId:s}=h(),{data:l,isLoading:x}=f(s),o=y(),{toast:n}=j(),m=(a,t)=>{if(!s)return;const r={[a]:t};if(o.mutate({patientId:s,data:r},{onError:()=>{n({description:"ไม่สามารถบันทึกได้ กรุณาลองใหม่",variant:"destructive"})}}),!t&&M.includes(a)){const g=c.find(p=>p.key===a);n({description:`ปิดหมวด${g?.label}แล้ว — การเตือนที่เกี่ยวข้องจะถูกหยุดชั่วคราว`})}};return e.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[e.jsxs("header",{className:"bg-card pt-4 pb-1 px-6 sticky top-0 z-20 flex items-center gap-4 border-b border-border",children:[e.jsx(N,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10 shrink-0",onClick:()=>b("/settings"),children:e.jsx(w,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl font-bold text-foreground",children:"การบันทึกข้อมูล"})]}),e.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2 pl-1",children:[e.jsx("h3",{className:"text-sm font-bold text-muted-foreground/70 uppercase tracking-widest",children:"จัดการหมวดหมู่บันทึก"}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"เลือกหมวดที่ต้องการแสดงในแอป เปิด/ปิดได้ตลอดเวลา"})]}),x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-card rounded-3xl shadow-sm overflow-hidden divide-y divide-border/30",children:c.map(a=>{const t=l?l[a.key]!==!1:!0;return e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:i("w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-opacity",a.color,!t&&"opacity-40"),children:e.jsx(a.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:i("flex-1 text-sm font-bold transition-colors",t?"text-foreground":"text-muted-foreground"),children:a.label}),e.jsx(k,{checked:t,onCheckedChange:r=>m(a.key,r),disabled:o.isPending})]},a.key)})}),e.jsxs("div",{className:"flex items-start gap-3 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900/30 rounded-2xl p-4",children:[e.jsx(R,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 leading-relaxed",children:"การปิดหมวดจะซ่อนจากหน้าบันทึก แนวโน้ม และสรุปวันนี้ แต่ข้อมูลเดิมยังอยู่ครบ และรายงานสุขภาพยังแสดงข้อมูลทุกหมวดเพื่อส่งแพทย์"})]})]})]})]})}export{B as default};
