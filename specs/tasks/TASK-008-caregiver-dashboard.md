# TASK-008: Caregiver Dashboard (LIFF)

**Priority:** üü¢ Medium
**Status:** üìã Ready to Start
**Owner:** Frontend Developer / LIFF Specialist
**Estimated Time:** 8-10 hours
**Dependencies:** TASK-001 (Registration), TASK-003 (Health Logging), TASK-004 (Reports), TASK-005 (Alerts)

---

## üìù Overview

‡∏™‡∏£‡πâ‡∏≤‡∏á LIFF Dashboard ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• ‡πÄ‡∏û‡∏∑‡πà‡∏≠:
- üë• **‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•**
- üìä **‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢**
- üö® **‡∏î‡∏π Alerts ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£**
- ‚öôÔ∏è **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô**
- üìà **‡∏î‡∏π Trends ‡πÅ‡∏•‡∏∞ Insights**

---

## üéØ User Stories

### Story 1: Patient List
**As a** ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
**I want** ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏ú‡∏°‡∏î‡∏π‡πÅ‡∏•‡∏≠‡∏¢‡∏π‡πà
**So that** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô

**Acceptance Criteria:**
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ + ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (Active today, Last seen X hours ago)
- ‚úÖ Badge ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô alerts ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
- ‚úÖ ‡∏Å‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

### Story 2: Patient Dashboard
**As a** ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
**I want** ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô
**So that** ‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

**Acceptance Criteria:**
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á Quick Stats (‡∏¢‡∏≤, ‡∏ô‡πâ‡∏≥, ‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢, ‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ)
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á Alerts ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
- ‚úÖ ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Daily/Weekly
- ‚úÖ ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ Timeline

### Story 3: Alerts Management
**As a** ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
**I want** ‡∏î‡∏π‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ alerts ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
**So that** ‡πÑ‡∏°‡πà‡∏û‡∏•‡∏≤‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

**Acceptance Criteria:**
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á alerts ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° severity (critical, urgent, warning)
- ‚úÖ Filter by patient, status, date
- ‚úÖ Acknowledge/Resolve alerts
- ‚úÖ ‡πÄ‡∏´‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ alerts

### Story 4: Notification Settings
**As a** ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
**I want** ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô
**So that** ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

**Acceptance Criteria:**
- ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á minimum severity (info, warning, urgent, critical)
- ‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö daily report ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‚úÖ Quiet hours (‡πÑ‡∏°‡πà‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î)

### Story 5: Health Trends
**As a** ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
**I want** ‡∏î‡∏π trend ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
**So that** ‡πÄ‡∏´‡πá‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£

**Acceptance Criteria:**
- ‚úÖ ‡∏Å‡∏£‡∏≤‡∏ü‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô 7 ‡∏ß‡∏±‡∏ô/30 ‡∏ß‡∏±‡∏ô
- ‚úÖ ‡∏Å‡∏£‡∏≤‡∏ü‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏ô‡∏¢‡∏≤ (completion rate)
- ‚úÖ ‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡πâ‡∏≥, ‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á Average, Min, Max

---

## üõ† Technical Implementation

### 1. File Structure

```
liff/
  ‚îú‚îÄ‚îÄ index.html                      # Entry - redirect to patient or caregiver
  ‚îú‚îÄ‚îÄ caregiver/
  ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html              # Main dashboard (patient list)
  ‚îÇ   ‚îú‚îÄ‚îÄ patient-detail.html         # Patient detail view
  ‚îÇ   ‚îú‚îÄ‚îÄ alerts.html                 # Alerts list & management
  ‚îÇ   ‚îú‚îÄ‚îÄ settings.html               # Notification settings
  ‚îÇ   ‚îú‚îÄ‚îÄ trends.html                 # Health trends & charts
  ‚îÇ   ‚îî‚îÄ‚îÄ css/
  ‚îÇ       ‚îî‚îÄ‚îÄ caregiver.css          # Caregiver-specific styles
  ‚îÇ   ‚îî‚îÄ‚îÄ js/
  ‚îÇ       ‚îú‚îÄ‚îÄ dashboard.js
  ‚îÇ       ‚îú‚îÄ‚îÄ patient-detail.js
  ‚îÇ       ‚îú‚îÄ‚îÄ alerts.js
  ‚îÇ       ‚îú‚îÄ‚îÄ settings.js
  ‚îÇ       ‚îî‚îÄ‚îÄ trends.js
  ‚îî‚îÄ‚îÄ shared/
      ‚îú‚îÄ‚îÄ css/
      ‚îÇ   ‚îî‚îÄ‚îÄ common.css             # Shared styles
      ‚îî‚îÄ‚îÄ js/
          ‚îú‚îÄ‚îÄ liff-init.js           # LIFF SDK initialization
          ‚îú‚îÄ‚îÄ api.js                 # API wrapper
          ‚îî‚îÄ‚îÄ utils.js               # Utilities
```

### 2. API Endpoints Needed

All endpoints already exist or easy to add:

```typescript
// Patient management
GET /api/registration/caregiver/:caregiver_id/patients
GET /api/registration/patient/:patient_id

// Health data
GET /api/health/logs/:patient_id
GET /api/reports/daily/:patient_id
GET /api/reports/weekly/:patient_id

// Alerts
GET /api/alerts/patient/:patient_id
POST /api/alerts/:alert_id/acknowledge
POST /api/alerts/:alert_id/resolve

// Settings
GET /api/registration/caregiver/:caregiver_id
PUT /api/registration/caregiver/:caregiver_id
```

### 3. Dashboard HTML

**File:** `liff/caregiver/dashboard.html`

```html
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Duulair - ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</title>
  <link rel="stylesheet" href="../shared/css/common.css">
  <link rel="stylesheet" href="css/caregiver.css">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <h1>üë• ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•</h1>
      <button id="settingsBtn" class="icon-btn">‚öôÔ∏è</button>
    </header>

    <!-- Alerts Summary -->
    <div class="alerts-summary" id="alertsSummary">
      <div class="alert-card critical">
        <span class="count" id="criticalCount">0</span>
        <span class="label">üÜò ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</span>
      </div>
      <div class="alert-card urgent">
        <span class="count" id="urgentCount">0</span>
        <span class="label">‚ö†Ô∏è ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô</span>
      </div>
      <div class="alert-card warning">
        <span class="count" id="warningCount">0</span>
        <span class="label">‚ö†Ô∏è ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</span>
      </div>
    </div>

    <!-- Patient List -->
    <div class="patient-list" id="patientList">
      <!-- Populated by JS -->
    </div>

    <!-- Loading -->
    <div class="loading" id="loading">
      <div class="spinner"></div>
      <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>
  </div>

  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script src="../shared/js/liff-init.js"></script>
  <script src="../shared/js/api.js"></script>
  <script src="js/dashboard.js"></script>
</body>
</html>
```

### 4. Dashboard JavaScript

**File:** `liff/caregiver/js/dashboard.js`

```javascript
// Initialize
let caregiverId = null;

async function init() {
  try {
    // LIFF init (from liff-init.js)
    await initLiff();

    // Get caregiver profile
    const profile = await liff.getProfile();
    const caregiver = await api.get(`/api/registration/check`, {
      line_user_id: profile.userId
    });

    if (!caregiver.data.registered || caregiver.data.role !== 'caregiver') {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏Å‡πà‡∏≠‡∏ô');
      liff.closeWindow();
      return;
    }

    caregiverId = caregiver.data.profile_id;

    // Load data
    await Promise.all([
      loadPatients(),
      loadAlertsSummary()
    ]);

  } catch (error) {
    console.error('Initialization error:', error);
    showError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà');
  }
}

async function loadPatients() {
  const loading = document.getElementById('loading');
  const patientList = document.getElementById('patientList');

  try {
    loading.style.display = 'flex';

    // Get linked patients
    const response = await api.get(`/api/registration/caregiver/${caregiverId}/patients`);
    const patients = response.data;

    if (patients.length === 0) {
      patientList.innerHTML = `
        <div class="empty-state">
          <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•</p>
          <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ç‡∏≠‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</p>
        </div>
      `;
      return;
    }

    // Render patient cards
    patientList.innerHTML = patients.map(patient => `
      <div class="patient-card" onclick="viewPatient('${patient.patient_id}')">
        <div class="patient-avatar">
          ${patient.first_name.charAt(0)}
        </div>
        <div class="patient-info">
          <h3>${patient.first_name} ${patient.last_name}</h3>
          <p class="status ${patient.active_today ? 'active' : 'inactive'}">
            ${patient.active_today ? '‚úÖ ‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ' : `‚è∞ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ${patient.hours_since_activity} ‡∏ä‡∏°.`}
          </p>
        </div>
        <div class="patient-badges">
          ${patient.pending_alerts > 0 ? `<span class="badge alert">${patient.pending_alerts}</span>` : ''}
        </div>
      </div>
    `).join('');

  } catch (error) {
    console.error('Error loading patients:', error);
    showError('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ');
  } finally {
    loading.style.display = 'none';
  }
}

async function loadAlertsSummary() {
  try {
    const response = await api.get(`/api/alerts/caregiver/${caregiverId}/summary`);
    const summary = response.data;

    document.getElementById('criticalCount').textContent = summary.critical || 0;
    document.getElementById('urgentCount').textContent = summary.urgent || 0;
    document.getElementById('warningCount').textContent = summary.warning || 0;

  } catch (error) {
    console.error('Error loading alerts summary:', error);
  }
}

function viewPatient(patientId) {
  window.location.href = `patient-detail.html?patient_id=${patientId}`;
}

// Event listeners
document.getElementById('settingsBtn').addEventListener('click', () => {
  window.location.href = 'settings.html';
});

// Initialize on load
init();
```

### 5. Patient Detail Page

**File:** `liff/caregiver/patient-detail.html`

```html
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ - Duulair</title>
  <link rel="stylesheet" href="../shared/css/common.css">
  <link rel="stylesheet" href="css/caregiver.css">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <button onclick="history.back()" class="back-btn">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
      <h1 id="patientName">...</h1>
    </header>

    <!-- Quick Stats -->
    <div class="quick-stats" id="quickStats">
      <!-- Populated by JS -->
    </div>

    <!-- Latest Vitals -->
    <div class="section">
      <h2>ü©∫ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h2>
      <div class="vitals-card" id="latestVitals">
        <!-- Populated by JS -->
      </div>
    </div>

    <!-- Active Alerts -->
    <div class="section">
      <h2>üö® ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h2>
      <div class="alerts-list" id="activeAlerts">
        <!-- Populated by JS -->
      </div>
    </div>

    <!-- Reports -->
    <div class="section">
      <h2>üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</h2>
      <div class="reports-buttons">
        <button onclick="viewDailyReport()">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
        <button onclick="viewWeeklyReport()">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô 7 ‡∏ß‡∏±‡∏ô</button>
        <button onclick="viewTrends()">‡∏î‡∏π Trends</button>
      </div>
    </div>

    <!-- Timeline -->
    <div class="section">
      <h2>üìù ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h2>
      <div class="timeline" id="timeline">
        <!-- Populated by JS -->
      </div>
    </div>
  </div>

  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script src="../shared/js/liff-init.js"></script>
  <script src="../shared/js/api.js"></script>
  <script src="js/patient-detail.js"></script>
</body>
</html>
```

### 6. Trends & Charts

**File:** `liff/caregiver/trends.html`

Use Chart.js for visualization:

```html
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<canvas id="bpChart"></canvas>
<canvas id="activityChart"></canvas>

<script>
// Blood Pressure Chart
const bpCtx = document.getElementById('bpChart').getContext('2d');
const bpChart = new Chart(bpCtx, {
  type: 'line',
  data: {
    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
    datasets: [
      {
        label: 'Systolic',
        data: [120, 125, 118, 130, 122, 119, 121],
        borderColor: '#F44336',
        backgroundColor: 'rgba(244, 67, 54, 0.1)'
      },
      {
        label: 'Diastolic',
        data: [80, 82, 78, 85, 81, 79, 80],
        borderColor: '#4CAF50',
        backgroundColor: 'rgba(76, 175, 80, 0.1)'
      }
    ]
  },
  options: {
    responsive: true,
    plugins: {
      title: {
        display: true,
        text: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÇ‡∏•‡∏´‡∏¥‡∏ï 7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤'
      }
    }
  }
});
</script>
```

### 7. CSS Styling

**File:** `liff/caregiver/css/caregiver.css`

```css
:root {
  --primary: #4CAF50;
  --danger: #F44336;
  --warning: #FF9800;
  --info: #2196F3;
}

/* Patient Cards */
.patient-card {
  display: flex;
  align-items: center;
  padding: 16px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  margin-bottom: 12px;
  cursor: pointer;
  transition: transform 0.2s;
}

.patient-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.patient-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  font-weight: bold;
  margin-right: 16px;
}

.patient-info {
  flex: 1;
}

.patient-info h3 {
  margin: 0 0 4px 0;
  font-size: 18px;
}

.status {
  font-size: 14px;
  color: #666;
}

.status.active {
  color: var(--primary);
}

.status.inactive {
  color: var(--warning);
}

.badge {
  background: var(--danger);
  color: white;
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: bold;
}

/* Alerts Summary */
.alerts-summary {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 24px;
}

.alert-card {
  background: white;
  padding: 16px;
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.alert-card.critical {
  border-left: 4px solid var(--danger);
}

.alert-card.urgent {
  border-left: 4px solid var(--warning);
}

.alert-card .count {
  display: block;
  font-size: 32px;
  font-weight: bold;
  color: #333;
}

.alert-card .label {
  font-size: 12px;
  color: #666;
}

/* Quick Stats */
.quick-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-bottom: 24px;
}

.stat-card {
  background: white;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.stat-card .value {
  font-size: 24px;
  font-weight: bold;
  color: var(--primary);
}

.stat-card .label {
  font-size: 14px;
  color: #666;
}
```

---

## üìÇ Files to Create

1. `liff/caregiver/dashboard.html` - Main dashboard
2. `liff/caregiver/patient-detail.html` - Patient detail view
3. `liff/caregiver/alerts.html` - Alerts management
4. `liff/caregiver/settings.html` - Settings page
5. `liff/caregiver/trends.html` - Health trends & charts
6. `liff/caregiver/css/caregiver.css` - Styles
7. `liff/caregiver/js/dashboard.js` - Dashboard logic
8. `liff/caregiver/js/patient-detail.js` - Patient detail logic
9. `liff/caregiver/js/alerts.js` - Alerts logic
10. `liff/caregiver/js/settings.js` - Settings logic
11. `liff/caregiver/js/trends.js` - Charts logic

---

## ‚úÖ Testing Checklist

### Functional Tests
- [ ] Dashboard ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] Alerts summary ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] Patient detail ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
- [ ] Acknowledge alert ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- [ ] Settings ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ
- [ ] Charts ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### UI/UX Tests
- [ ] Responsive ‡∏ó‡∏∏‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
- [ ] Loading states ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- [ ] Error handling ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- [ ] Navigation ‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô

---

## üöÄ Deployment

```bash
# No build step for vanilla JS
# Just deploy to Vercel static hosting

# Update vercel.json
{
  "routes": [
    { "src": "/liff/(.*)", "dest": "/liff/$1" }
  ]
}

# Deploy
git add liff/caregiver/
git commit -m "Add caregiver dashboard (LIFF)"
git push origin master
```

---

## üìä Success Metrics

- ‚úÖ Page load time < 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- ‚úÖ Dashboard usage > 70% ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•
- ‚úÖ Alert response time ‡∏•‡∏î‡∏•‡∏á 50%
- ‚úÖ User satisfaction > 85%

---

**Created:** 2025-10-25
**Last Updated:** 2025-10-25
**Version:** 1.0.0
